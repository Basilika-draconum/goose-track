"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[66],{5568:function(e,t,a){a(2791);t.Z=a.p+"static/media/close.539ee86139544413e8d81c8deac43f18.svg"},7066:function(e,t,a){a.r(t),a.d(t,{default:function(){return be}});var s=a(9439),n=a(2791),r=a(9434),o=a(4454),i=a(1710);var l=a.p+"static/media/svg.18ea801ad99b0d5e8719014ba11dac50.svg",c=a(7233),d=a(7892),u=a.n(d),m=a(1686),_=a.n(m),h=a(9778),f=a(5568),p={backdrop:"TaskForm_backdrop__G0vvY",popup:"TaskForm_popup__zXuZU",popupForm:"TaskForm_popupForm__GhPwU",titleLabel:"TaskForm_titleLabel__9fN1V",timePickersWrapper:"TaskForm_timePickersWrapper__AYbrx",timePickerLabel:"TaskForm_timePickerLabel__6Oncx",timePicker:"TaskForm_timePicker__AHb-Z",radioGroup:"TaskForm_radioGroup__XOHBr",radioButton:"TaskForm_radioButton__0aTxY",radioInput:"TaskForm_radioInput__riSWG",buttonWrapper:"TaskForm_buttonWrapper__Fr6gS",submitButton:"TaskForm_submitButton__VLuaT",submitButton__icon:"TaskForm_submitButton__icon__afso5",cancelButton:"TaskForm_cancelButton__UZ6u7",closeButton:"TaskForm_closeButton__O6NaZ",close_icon:"TaskForm_close_icon__7CrV1",title:"TaskForm_title__5-Jtq",start:"TaskForm_start__tzUg3",end:"TaskForm_end__NVmxT"},x=a(3800),k=a(184);var v=function(e){var t=e.task,a=e.closeModal,i=e.type,l="H:mm",d=(0,n.useState)(t?t.start:u()("09:00",l)),m=(0,s.Z)(d,2),v=m[0],j=m[1],g=(0,n.useState)(t?t.end:u()("12:00",l)),N=(0,s.Z)(g,2),y=N[0],b=N[1],T=(0,n.useState)(t?t.priority:"low"),C=(0,s.Z)(T,2),w=C[0],F=C[1],Z=(0,n.useState)(t?t.title:""),I=(0,s.Z)(Z,2),S=I[0],B=I[1],M=(0,r.I0)(),D=function(e){F(e.target.value)},H=(0,r.v9)(o.p),L=function(){a(!1)};return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("form",{action:"",className:p.popupForm,children:[(0,k.jsxs)("label",{htmlFor:"start",className:p.titleLabel,children:[(0,k.jsx)("p",{className:p.title,children:"Title"}),(0,k.jsx)("input",{name:"title",type:"text",placeholder:"Enter text",value:S,onChange:function(e){B(e.target.value)}})]}),(0,k.jsxs)("div",{className:p.timePickersWrapper,children:[(0,k.jsxs)("label",{htmlFor:"title",className:p.timePickerLabel,children:[(0,k.jsx)("p",{className:p.start,children:"Start"}),(0,k.jsx)(c.Z,{name:"start",onChange:function(e,t){j(u()(t,l))},value:v,format:"H:mm",minuteStep:5,suffixIcon:!1,clearIcon:!1,className:p.timePicker,placement:"bottomLeft"})]}),(0,k.jsxs)("label",{htmlFor:"end",className:p.timePickerLabel,children:[(0,k.jsx)("p",{className:p.end,children:"End"}),(0,k.jsx)(c.Z,{name:"end",onChange:function(e,t){b(u()(t,l))},value:y,format:"H:mm",minuteStep:5,suffixIcon:!1,clearIcon:!1,className:p.timePicker})]})]}),(0,k.jsxs)("div",{className:p.radioGroup,children:[(0,k.jsxs)("div",{className:p.radioButton,children:[(0,k.jsx)("input",{type:"radio",id:"low",name:"priority",value:"low",onChange:D,className:p.radioInput}),(0,k.jsx)("label",{htmlFor:"low",id:"low",children:"Low"})]}),(0,k.jsxs)("div",{className:p.radioButton,children:[(0,k.jsx)("input",{type:"radio",id:"medium",name:"priority",value:"medium",onChange:D,className:p.radioInput}),(0,k.jsx)("label",{htmlFor:"medium",id:"medium",children:"Medium"})]}),(0,k.jsxs)("div",{className:p.radioButton,children:[(0,k.jsx)("input",{type:"radio",id:"high",name:"priority",value:"high",onChange:D,className:p.radioInput}),(0,k.jsx)("label",{htmlFor:"high",id:"high",children:"High"})]})]}),t?(0,k.jsx)("button",{type:"button",className:p.editButton,children:"Edit"}):(0,k.jsxs)("div",{className:p.buttonWrapper,children:[(0,k.jsxs)("button",{type:"submit",className:p.submitButton,onClick:function(e){e.preventDefault();var t=function(e){return"To do"===e?"toDo":"In progress"===e?"inProgress":"Done"===e?"done":void 0}(i),a={date:{start:v,end:y},priority:w,title:S,status:t};H.find((function(e){return e.title.toLowerCase()===S.toLowerCase()}))?_().Notify.failure("".concat(S," is already added.")):(console.log(a),M((0,x.gI)(a)).unwrap().then((function(){return L()})),B(""))},children:[(0,k.jsx)("span",{className:p.plus,children:"+"}),"Add"]}),(0,k.jsx)("button",{type:"button",className:p.cancelButton,onClick:function(){(0,h.w)(!1)},children:"Cancel"})]}),(0,k.jsx)("button",{type:"button",onClick:L,className:p.closeButton,children:(0,k.jsx)("img",{src:f.Z,alt:"close"})})]})})},j=document.querySelector("body"),g=function(e){var t=e.children,a=e.active,s=e.setActive;return(0,n.useEffect)((function(){var e=function(e){"Escape"===e.code&&s(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e),j.classList.toggle("no-scroll")}}),[s]),(0,k.jsx)("div",{className:a?"overlay active":"overlay",onClick:function(){return s(!1)},children:(0,k.jsx)("div",{className:a?"modal active":"modal",onClick:function(e){return e.stopPropagation()},children:t})})},N="columnHeadBar_columnHeadBar__hLJMw",y="columnHeadBar_columnHeadBar__Text__cST6g",b="columnHeadBar_addTaskBtnIcon__FjgsR",T="columnHeadBar_addTaskBtnIcon__icon__yHsQB",C=function(e){var t=e.title,a=e.progressType,r=(0,n.useState)(!1),o=(0,s.Z)(r,2),i=o[0],c=o[1];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:N,children:[(0,k.jsx)("h3",{className:y,children:t}),(0,k.jsx)("button",{className:b,onClick:function(){c((function(e){return!e}))},children:(0,k.jsx)("svg",{className:T,alt:"open modal for add task",children:(0,k.jsx)("use",{href:"".concat(l,"#roundPlus")})})})]}),(0,k.jsx)(g,{active:i,setActive:c,children:(0,k.jsx)(v,{closeModal:c,type:a})})]})},w="TaskToolbar_toolbar__VO143",F="TaskToolbar_toolbar__btn__epBM5",Z="TaskToolbar_toolbar__svg__fXme-",I="TaskToolbar_statusModal__4vFE9",S="TaskToolbar_statusModal__btn__5efPR",B="TaskToolbar_statusModal__container__f+Wy1",M="TaskToolbar_statusModal__status__dKakX",D="TaskConfirmationModal_confirmation__container__U3jrn",H="TaskConfirmationModal_confirmation__title__Xyqyy",L="TaskConfirmationModal_confirmation__btnContainer__+52aE",P="TaskConfirmationModal_confirmation__btn__4rzQ1",E=function(e){var t=e.confirmationModalOpen,a=e.task,s=(0,r.I0)(),n=function(e){"yes"===e.currentTarget.id&&s((0,x.YZ)(a._id)),t()};return(0,k.jsxs)("div",{className:D,children:[(0,k.jsx)("p",{className:H,children:"Are you confirming the deletion?"}),(0,k.jsxs)("div",{className:L,children:[(0,k.jsx)("div",{children:(0,k.jsx)("button",{className:P,onClick:n,id:"yes",children:"Yes"})}),(0,k.jsx)("div",{children:(0,k.jsx)("button",{className:P,onClick:n,id:"no",children:"No"})})]})]})},O=a(7950);var W=a.p+"static/media/icons.178339f33ae92ff52ddea7e3f1de6d7d.svg",U=function(e){var t=e.task,a=(0,n.useState)(!1),o=(0,s.Z)(a,2),i=o[0],l=o[1],c=(0,n.useState)(!1),d=(0,s.Z)(c,2),u=d[0],m=d[1],h=(0,n.useState)(!1),f=(0,s.Z)(h,2),p=f[0],v=f[1],j=(0,r.I0)(),g=function(e){return"toDo"===e?"To do":"inProgress"===e?"In progress":"done"===e?"Done":"To do"===e?"toDo":"In progress"===e?"inProgress":"Done"===e?"done":void 0},N=g(t.status),y=function(){l(!1),m(!1),v((function(e){return!e}))};return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:w,children:[(0,k.jsx)("button",{className:F,onClick:function(){v(!1),m(!1),l((function(e){return!e}))},children:(0,k.jsx)("svg",{className:Z,children:(0,k.jsx)("use",{xlinkHref:W+"#icon-round-arrow"})})}),i&&(0,k.jsx)("div",{className:I,"data-modal":"true",children:["To do","In progress","Done"].filter((function(e){return e!==N})).map((function(e){return(0,k.jsx)("button",{className:S,onClick:function(){return function(e){e=g(e),j((0,x.o4)({status:e,id:t._id})),_().Notify.success('Status changed to "'.concat(e,'"')),l(!1)}(e)},children:(0,k.jsxs)("div",{className:B,children:[(0,k.jsx)("p",{className:M,children:e}),(0,k.jsx)("svg",{className:Z,children:(0,k.jsx)("use",{xlinkHref:W+"#icon-round-arrow"})})]})},e)}))}),(0,k.jsx)("button",{className:F,onClick:function(){return t._id,v(!1),l(!1),void m((function(e){return!e}))},children:(0,k.jsx)("svg",{className:Z,children:(0,k.jsx)("use",{xlinkHref:W+"#icon-pencil"})})}),u&&(0,k.jsx)(O.Z,{closeModal:function(e){e.target===e.currentTarget&&m(!u)},task:t}),(0,k.jsx)("button",{className:F,onClick:y,children:(0,k.jsx)("svg",{className:Z,children:(0,k.jsx)("use",{xlinkHref:W+"#icon-trash"})})}),p&&(0,k.jsx)(E,{confirmationModalOpen:y,task:t})]})})},A="taskColumnCard_tasksCard__UghyB",V="taskColumnCard_tasksCard__text__IbHkx",G="taskColumnCard_tasksCard__bottomWrap__CFtCK",Y="taskColumnCard_tasksCard__riority__jjIk5",z=function(e){var t,a=e.task,s="low"===(t=null===a||void 0===a?void 0:a.priority)?"var(--bgColor-range-low)":"medium"===t?"var(--bgColor-range-medium)":"high"===t?"var(--bgColor-range-high)":void 0;return(0,k.jsxs)("li",{className:A,children:[(0,k.jsx)("p",{className:V,children:null===a||void 0===a?void 0:a.title}),(0,k.jsxs)("div",{className:G,children:[(0,k.jsx)("span",{style:{backgroundColor:s},className:Y,children:null===a||void 0===a?void 0:a.priority}),(0,k.jsx)(U,{task:a})]})]})},X="columnsTasksList_taskslistSWrap__o4U5D",$=function(e){var t=e.tasks;return(0,k.jsx)("ul",{className:X,children:t&&(null===t||void 0===t?void 0:t.map((function(e){return(0,k.jsx)(z,{task:e},null===e||void 0===e?void 0:e._id)})))})},q="addTaskBtn_addTaskBtn__2OIaZ",R="addTaskBtn_addTaskBtn__text__IvVco",J="addTaskBtn_addTaskBtn__icon__ckPF-",K=function(e){var t=e.progressType,a=(0,n.useState)(!1),r=(0,s.Z)(a,2),o=r[0],i=r[1];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(g,{active:o,setActive:i,children:(0,k.jsx)(v,{closeModal:i,type:t})}),(0,k.jsxs)("button",{className:q,onClick:function(){i((function(e){return!e}))},children:[(0,k.jsx)("svg",{className:J,alt:"plus",children:(0,k.jsx)("use",{href:"".concat(l,"#plus")})}),(0,k.jsx)("span",{className:R,children:"Add task"})]})]})},Q="tasksColumn_tasksColumnWrap__GqliE",ee=function(e){var t=e.title,a=e.tasks;return(0,k.jsxs)("li",{className:Q,children:[(0,k.jsx)(C,{title:t,progressType:t}),0!==(null===a||void 0===a?void 0:a.length)&&(0,k.jsx)($,{tasks:a,progressType:t}),(0,k.jsx)(K,{text:"Add task",icon:"plus",progressType:t})]})},te="tasksColumnsList_wrap__L3cT7",ae="tasksColumnsList_list__L13HL",se=function(e){var t=e.tasks,a=null===t||void 0===t?void 0:t.filter((function(e){return"toDo"===e.status})),s=null===t||void 0===t?void 0:t.filter((function(e){return"inProgress"===e.status})),n=null===t||void 0===t?void 0:t.filter((function(e){return"done"===e.status}));return(0,k.jsx)("div",{className:te,children:(0,k.jsxs)("ul",{className:ae,children:[(0,k.jsx)(ee,{title:"To do",tasks:a}),(0,k.jsx)(ee,{title:"In progress",tasks:s}),(0,k.jsx)(ee,{title:"Done",tasks:n})]})})},ne=a(7689),re=a(9772),oe=a(3216),ie=a(1951),le=a(9040),ce=a(1002),de=a(1104),ue=a(8527),me=a(4522),_e=a(9297);function he(e,t){if((0,me.Z)(2,arguments),!t||"object"!==(0,ce.Z)(t))return new Date(NaN);var a=t.years?(0,_e.Z)(t.years):0,s=t.months?(0,_e.Z)(t.months):0,n=t.weeks?(0,_e.Z)(t.weeks):0,r=t.days?(0,_e.Z)(t.days):0,o=t.hours?(0,_e.Z)(t.hours):0,i=t.minutes?(0,_e.Z)(t.minutes):0,l=t.seconds?(0,_e.Z)(t.seconds):0,c=(0,ue.default)(e),d=s||a?(0,de.default)(c,s+12*a):c,u=r||n?(0,le.default)(d,r+7*n):d,m=i+60*o,_=l+60*m,h=1e3*_,f=new Date(u.getTime()+h);return f}var fe=a(8897),pe="day-calendar_dayCalendarHeadList__zTw2D",xe="day-calendar_dayCalendarHeadItem__z5Ea+",ke="day-calendar_daysOfWeek__IR3vn",ve="day-calendar_daysWeekend__uC+-r",je="day-calendar_choosedDay__6kVxn",ge="day-calendar_dayCalendarHeadBtn__z3gOT",Ne=function(){for(var e=(0,re.Z)("(max-width: 767.9px)"),t=(0,r.v9)(i.i),a=(0,ne.s0)(),s=(0,r.I0)(),n=(0,oe.default)(t,"yyyy-MM-dd",Date.now()),o=function(e){switch(e){case"MON":default:return 0;case"TUE":return 1;case"WED":return 2;case"THU":return 3;case"FRI":return 4;case"SAT":return 5;case"SUN":return 6}}((0,ie.default)(n,"eee").slice(0,3).toUpperCase()),l=(0,le.default)(n,-o),c=[],d=0;d<7;d++)c.push(he(l,{days:d}));return(0,k.jsx)("ul",{className:pe,children:c.map((function(n){return(0,k.jsxs)("li",{className:xe,children:[(0,k.jsx)("p",{className:"S"===(0,ie.default)(n,"eee").slice(0,1)?ve:ke,children:e?(0,ie.default)(n,"eee").slice(0,1):(0,ie.default)(n,"eee").toUpperCase()}),(0,k.jsx)("button",{className:t!==(0,ie.default)(n,"yyyy-MM-dd")?ge:je,type:"button",onClick:function(){return e=n,s((0,fe.G)((0,ie.default)(e,"yyyy-MM-dd"))),void a("/calendar/day/".concat((0,ie.default)(e,"yyyy-MM-dd")));var e},children:(r=(0,ie.default)(n,"dd"),r.startsWith("0")?r.slice(1):r)})]},n);var r}))})},ye="choosedDay_wrapChooseDay__-V+w2",be=function(){var e=(0,r.v9)(o.p),t=(0,r.v9)(i.i),a=(0,n.useState)(),l=(0,s.Z)(a,2),c=l[0],d=l[1],u=new Date("".concat(t)).toISOString().slice(0,10);return(0,n.useEffect)((function(){var t=null===e||void 0===e?void 0:e.filter((function(e){return e.date.start.slice(0,10)===u}));d(t)}),[u,e,t]),(0,k.jsxs)("section",{className:ye,children:[(0,k.jsx)(Ne,{}),(0,k.jsx)(se,{tasks:c})]})}},7950:function(e,t,a){a.d(t,{Z:function(){return S}});var s=a(9439),n=a(2791),r=a(4164),o=a(9434),i=a(7233),l=a(7892),c=a.n(l),d=a(1686),u=a.n(d),m=a(3800),_=a(5568),h="modal-edit_overlay__dzW+7",f="modal-edit_modalEditWrapper__hTuoj",p="modal-edit_popupForm__xVtk5",x="modal-edit_titleLabel__ocZyf",k="modal-edit_timePickersWrapper__4VkTe",v="modal-edit_timePickerLabel__xvyPU",j="modal-edit_timePicker__X+tMC",g="modal-edit_radioGroup__u1Haa",N="modal-edit_radioButton__NIA8Q",y="modal-edit_radioInput__q8KkM",b="modal-edit_btnEdit__hjVmQ",T="modal-edit_modalIcon__wZI0R",C="modal-edit_closeButton__7JGY2",w="modal-edit_title__KsOwg",F="modal-edit_start__c3dyM",Z="modal-edit_end__Mk+tb",I=a(184),S=function(e){var t=e.task,a=e.closeModal,l=(0,n.useState)(!1),d=(0,s.Z)(l,1)[0],S=(0,o.I0)(),B=(0,n.useState)(t.title),M=(0,s.Z)(B,2),D=M[0],H=M[1],L=(0,n.useState)(c()(t.date.start)),P=(0,s.Z)(L,2),E=P[0],O=P[1],W=(0,n.useState)(c()(t.date.end)),U=(0,s.Z)(W,2),A=U[0],V=U[1],G=(0,n.useState)(t.priority),Y=(0,s.Z)(G,2),z=Y[0],X=Y[1],$=function(e){X(e.target.id)},q=function(){a(!1)},R=(0,I.jsx)("div",{className:h,onClick:a,children:(0,I.jsx)("div",{className:f,children:(0,I.jsxs)("form",{action:"",className:p,children:[(0,I.jsx)("button",{type:"button",onClick:q,className:C,children:(0,I.jsx)("img",{src:_.Z,alt:"close"})}),(0,I.jsxs)("label",{htmlFor:"start",className:x,children:[(0,I.jsx)("p",{className:w,children:"Title"}),(0,I.jsx)("input",{name:"title",type:"text",placeholder:"Enter text",value:D,onChange:function(e){H(e.target.value)}})]}),(0,I.jsxs)("div",{className:k,children:[(0,I.jsxs)("label",{htmlFor:"title",className:v,children:[(0,I.jsx)("p",{className:F,children:"Start"}),(0,I.jsx)(i.Z,{name:"start",onChange:function(e){O(c()(e,"H:mm"))},value:E,format:"H:mm",minuteStep:5,suffixIcon:!1,clearIcon:!1,className:j,placement:"bottomLeft"})]}),(0,I.jsxs)("label",{htmlFor:"end",className:v,children:[(0,I.jsx)("p",{className:Z,children:"End"}),(0,I.jsx)(i.Z,{name:"end",onChange:function(e){V(c()(e,"H:mm"))},value:A,format:"H:mm",minuteStep:5,suffixIcon:!1,clearIcon:!1,className:j})]})]}),(0,I.jsxs)("div",{className:g,children:[(0,I.jsxs)("div",{className:N,children:[(0,I.jsx)("input",{type:"radio",id:"low",name:"priority",className:y,value:z,onChange:$,checked:"low"===z?"checked":""}),(0,I.jsx)("label",{htmlFor:"low",id:"low",children:"Low"})]}),(0,I.jsxs)("div",{className:N,children:[(0,I.jsx)("input",{type:"radio",id:"medium",name:"priority",className:y,value:z,onChange:$,checked:"medium"===z?"checked":""}),(0,I.jsx)("label",{htmlFor:"medium",id:"medium",children:"Medium"})]}),(0,I.jsxs)("div",{className:N,children:[(0,I.jsx)("input",{type:"radio",id:"high",name:"priority",className:y,value:z,onChange:$,checked:"high"===z?"checked":""}),(0,I.jsx)("label",{htmlFor:"high",id:"high",children:"High"})]})]}),(0,I.jsxs)("button",{type:"submit",className:b,onClick:function(e){e.preventDefault();var a=t._id,s=E.$d.toISOString(),n=A.$d.toISOString(),r={title:D,status:t.status,priority:z,date:{start:s,end:n}};D!==t.title||E.$d.toISOString()!==c()(t.date.start).$d.toISOString()||A.$d.toISOString()!==c()(t.date.end).$d.toISOString()||z!==t.priority?S((0,m.D6)({id:a,dataTask:r})).unwrap().then((function(){q(),u().Notify.success("The task has been successfully changed."),S((0,m.Jv)())})):u().Notify.warning("Try to change something first.")},children:[(0,I.jsx)("div",{className:T}),"Edit"]})]})})});return d?null:(0,r.createPortal)(R,document.getElementById("modal"))}},1710:function(e,t,a){a.d(t,{i:function(){return s}});var s=function(e){return e.date.currentDate}},4454:function(e,t,a){a.d(t,{p:function(){return s}});var s=function(e){return e.tasks.tasks}},9040:function(e,t,a){a.r(t),a.d(t,{default:function(){return o}});var s=a(9297),n=a(8527),r=a(4522);function o(e,t){(0,r.Z)(2,arguments);var a=(0,n.default)(e),o=(0,s.Z)(t);return isNaN(o)?new Date(NaN):o?(a.setDate(a.getDate()+o),a):a}},1104:function(e,t,a){a.r(t),a.d(t,{default:function(){return o}});var s=a(9297),n=a(8527),r=a(4522);function o(e,t){(0,r.Z)(2,arguments);var a=(0,n.default)(e),o=(0,s.Z)(t);if(isNaN(o))return new Date(NaN);if(!o)return a;var i=a.getDate(),l=new Date(a.getTime());l.setMonth(a.getMonth()+o+1,0);var c=l.getDate();return i>=c?l:(a.setFullYear(l.getFullYear(),l.getMonth(),i),a)}}}]);
//# sourceMappingURL=66.a70c3692.chunk.js.map
"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[494],{5568:function(t,e,n){n(2791);e.Z=n.p+"static/media/close.539ee86139544413e8d81c8deac43f18.svg"},7950:function(t,e,n){n.d(e,{Z:function(){return M}});var a=n(9439),r=n(2791),i=n(4164),s=n(9434),l=n(7233),d=n(7892),u=n.n(d),o=n(1686),c=n.n(o),m=n(3800),f=n(5568),h="modal-edit_overlay__dzW+7",v="modal-edit_modalEditWrapper__hTuoj",_="modal-edit_popupForm__xVtk5",g="modal-edit_titleLabel__ocZyf",x="modal-edit_timePickersWrapper__4VkTe",p="modal-edit_timePickerLabel__xvyPU",j="modal-edit_timePicker__X+tMC",k="modal-edit_radioGroup__u1Haa",N="modal-edit_radioButton__NIA8Q",y="modal-edit_radioInput__q8KkM",w="modal-edit_btnEdit__hjVmQ",D="modal-edit_modalIcon__wZI0R",T="modal-edit_closeButton__7JGY2",b="modal-edit_title__KsOwg",Z="modal-edit_start__c3dyM",S="modal-edit_end__Mk+tb",C=n(184),M=function(t){var e=t.task,n=t.closeModal,d=(0,r.useState)(!1),o=(0,a.Z)(d,1)[0],M=(0,s.I0)(),I=(0,r.useState)(e.title),F=(0,a.Z)(I,2),E=F[0],L=F[1],O=(0,r.useState)(u()(e.date.start)),H=(0,a.Z)(O,2),U=H[0],W=H[1],$=(0,r.useState)(u()(e.date.end)),Y=(0,a.Z)($,2),R=Y[0],z=Y[1],P=(0,r.useState)(e.priority),B=(0,a.Z)(P,2),J=B[0],q=B[1],A=function(t){q(t.target.id)},G=function(){n(!1)},Q=(0,C.jsx)("div",{className:h,onClick:n,children:(0,C.jsx)("div",{className:v,children:(0,C.jsxs)("form",{action:"",className:_,children:[(0,C.jsx)("button",{type:"button",onClick:G,className:T,children:(0,C.jsx)("img",{src:f.Z,alt:"close"})}),(0,C.jsxs)("label",{htmlFor:"start",className:g,children:[(0,C.jsx)("p",{className:b,children:"Title"}),(0,C.jsx)("input",{name:"title",type:"text",placeholder:"Enter text",value:E,onChange:function(t){L(t.target.value)}})]}),(0,C.jsxs)("div",{className:x,children:[(0,C.jsxs)("label",{htmlFor:"title",className:p,children:[(0,C.jsx)("p",{className:Z,children:"Start"}),(0,C.jsx)(l.Z,{name:"start",onChange:function(t){W(u()(t,"H:mm"))},value:U,format:"H:mm",minuteStep:5,suffixIcon:!1,clearIcon:!1,className:j,placement:"bottomLeft"})]}),(0,C.jsxs)("label",{htmlFor:"end",className:p,children:[(0,C.jsx)("p",{className:S,children:"End"}),(0,C.jsx)(l.Z,{name:"end",onChange:function(t){z(u()(t,"H:mm"))},value:R,format:"H:mm",minuteStep:5,suffixIcon:!1,clearIcon:!1,className:j})]})]}),(0,C.jsxs)("div",{className:k,children:[(0,C.jsxs)("div",{className:N,children:[(0,C.jsx)("input",{type:"radio",id:"low",name:"priority",className:y,value:J,onChange:A,checked:"low"===J?"checked":""}),(0,C.jsx)("label",{htmlFor:"low",id:"low",children:"Low"})]}),(0,C.jsxs)("div",{className:N,children:[(0,C.jsx)("input",{type:"radio",id:"medium",name:"priority",className:y,value:J,onChange:A,checked:"medium"===J?"checked":""}),(0,C.jsx)("label",{htmlFor:"medium",id:"medium",children:"Medium"})]}),(0,C.jsxs)("div",{className:N,children:[(0,C.jsx)("input",{type:"radio",id:"high",name:"priority",className:y,value:J,onChange:A,checked:"high"===J?"checked":""}),(0,C.jsx)("label",{htmlFor:"high",id:"high",children:"High"})]})]}),(0,C.jsxs)("button",{type:"submit",className:w,onClick:function(t){t.preventDefault();var n=e._id,a=U.$d.toISOString(),r=R.$d.toISOString(),i={title:E,status:e.status,priority:J,date:{start:a,end:r}};E!==e.title||U.$d.toISOString()!==u()(e.date.start).$d.toISOString()||R.$d.toISOString()!==u()(e.date.end).$d.toISOString()||J!==e.priority?M((0,m.D6)({id:n,dataTask:i})).unwrap().then((function(){G(),c().Notify.success("The task has been successfully changed."),M((0,m.Jv)())})):c().Notify.warning("Try to change something first.")},children:[(0,C.jsx)("div",{className:D}),"Edit"]})]})})});return o?null:(0,i.createPortal)(Q,document.getElementById("modal"))}},494:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var a=n(9434),r=n(7262),i=n(8527),s=n(4522);var l=n(5719),d=n(4888),u=n(467),o=function(t){var e=(0,l.default)(new Date(t)),n=(0,d.default)(new Date(t)),a=(0,u.default)(e)-1,r=function(t,e){var n;(0,s.Z)(1,arguments);var a=t||{},r=(0,i.default)(a.start),l=(0,i.default)(a.end).getTime();if(!(r.getTime()<=l))throw new RangeError("Invalid interval");var d=[],u=r;u.setHours(0,0,0,0);var o=Number(null!==(n=null===e||void 0===e?void 0:e.step)&&void 0!==n?n:1);if(o<1||isNaN(o))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=l;)d.push((0,i.default)(u)),u.setDate(u.getDate()+o),u.setHours(0,0,0,0);return d}({start:e,end:n});return{startMonth:e,endMonth:n,firstDayOfMonth:a,daysOfMonth:r}},c=n(1710),m=n(4454),f=n(9772),h="month-head_monthHeadList__YwpDO",v="month-head_monthHeadItem__oDc-4",_=n(184),g=function(){var t=(0,f.Z)("(max-width: 767.9px)");return(0,_.jsx)(_.Fragment,{children:t?(0,_.jsxs)("ul",{className:h,children:[(0,_.jsx)("li",{children:"M"}),(0,_.jsx)("li",{children:"T"}),(0,_.jsx)("li",{children:"W"}),(0,_.jsx)("li",{children:"T"}),(0,_.jsx)("li",{children:"F"}),(0,_.jsx)("li",{className:v,children:"S"}),(0,_.jsx)("li",{className:v,children:"S"})]}):(0,_.jsxs)("ul",{className:h,children:[(0,_.jsx)("li",{children:"Mon"}),(0,_.jsx)("li",{children:"Tue"}),(0,_.jsx)("li",{children:"Wed"}),(0,_.jsx)("li",{children:"Thu"}),(0,_.jsx)("li",{children:"Fri"}),(0,_.jsx)("li",{className:v,children:"Sat"}),(0,_.jsx)("li",{className:v,children:"Sun"})]})})},x=n(9439),p=n(2791),j=n(7689),k=n(1951),N=n(8897),y=n(4690);function w(t){return(0,s.Z)(1,arguments),(0,y.default)(t,Date.now())}var D=n(9831),T=function(t){var e=t.split("-")[2];return e.startsWith("0")?e.slice(1):e},b=n(7950),Z="tasks-list_tasksListStyle__xxmMA",S="tasks-list_tasksListItem__8kwLn",C="tasks-list_low__tWGn2",M="tasks-list_medium__-Q0UX",I="tasks-list_high__2eYOk",F=function(t){var e=t.task,n=(0,f.Z)("(max-width: 767.9px)"),a=(0,p.useState)(!1),r=(0,x.Z)(a,2),i=r[0],s=r[1];(0,p.useEffect)((function(){var t=function(t){"Escape"===t.code&&i&&s(!i)};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[i]);var l;return(0,_.jsxs)("div",{className:Z,children:[(0,_.jsx)("div",{className:S,onClick:function(){s(!i)},children:(0,_.jsx)("p",{className:"low"===e.priority&&C||"medium"===e.priority&&M||"high"===e.priority&&I,children:(l=e.title,n?l.substring(0,3)+"...":l.length>7?l.substring(0,7)+"...":l)})},e._id),i&&(0,_.jsx)(b.Z,{closeModal:function(t){t.target===t.currentTarget&&s(!i)},task:e})]})},E="modal-task_overlay__RPgeV",L="modal-task_modalWrapper__hq87Q",O="modal-task_modalBox__pY+RE",H=function(t){var e=t.closeModalList,n=t.taskList,a=(0,f.Z)("(max-width: 767.9px)");return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:E,onClick:e}),(0,_.jsx)("div",{className:L,children:(0,_.jsx)("div",{className:O,children:n.tasks.map((function(t,e){return(0,_.jsx)("div",{children:a?e>0&&(0,_.jsx)(F,{task:t}):e>1&&(0,_.jsx)(F,{task:t})},e)}))})})]})},U="days-tasks_styledTd__bn9hO",W="days-tasks_today__n8d8B",$="days-tasks_styledModalTd__cFxn-",Y="days-tasks_styledNumberDay__gACgi",R="days-tasks_burgerListTasks__LkakK",z=function(t){var e=t.day,n=t.handleClick,a=(0,f.Z)("(max-width: 767.9px)"),r=(0,p.useState)(!1),i=(0,x.Z)(r,2),s=i[0],l=i[1];(0,p.useEffect)((function(){var t=function(t){"Escape"===t.code&&s&&l(!s)};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[s]);var d=function(){l(!s)};return(0,_.jsxs)("td",{className:U,onClick:function(t){return n(t,e.date)},children:[(0,_.jsx)("p",{className:w((0,D.default)(e.date))?W:Y,children:T(e.date)}),e.tasks.length>0?(0,_.jsxs)(_.Fragment,{children:[e.tasks.map((function(t,e){return(0,_.jsx)("div",{children:a?0===e&&(0,_.jsx)(F,{task:t}):e<=1&&(0,_.jsx)(F,{task:t})},e)})),a&&e.tasks.length>1?(0,_.jsxs)("p",{className:R,onClick:d,children:["+",e.tasks.length-1," tasks"]}):!a&&e.tasks.length>2?(0,_.jsxs)("p",{className:R,onClick:d,children:["+",e.tasks.length-2," tasks"]}):null]}):null,s&&(0,_.jsx)("div",{className:$,children:(0,_.jsx)(H,{closeModalList:function(t){t.target===t.currentTarget&&l(!s)},taskList:e})})]})},P="calendar-table_calendarTableWrapper__4xCRq",B="calendar-table_calendarTableStyle__ow636",J=function(t){var e=t.tasks,n=t.currentDate,r=(0,p.useState)(!1),i=(0,x.Z)(r,2),s=(i[0],i[1]),l=(0,p.useState)(null),d=(0,x.Z)(l,2),u=(d[0],d[1]),c=(0,a.I0)(),m=(0,j.s0)(),f=o(n),h=f.daysOfMonth,v=f.firstDayOfMonth,g=h.map((function(t){return{date:(0,k.default)(t,"yyyy-MM-dd"),tasks:e.filter((function(e){return e.date.start.slice(0,10)===(0,k.default)(t,"yyyy-MM-dd")}))}})),y=function(t,e){t.currentTarget===t.target&&(c((0,N.G)(e)),m("/calendar/day/".concat(e)))},w=function(t){u(t)},D=[],T=function(t){return Array.from({length:t},(function(t,e){return(0,_.jsx)("td",{},"empty-".concat(e))}))}(v);return g.forEach((function(t,e){T.push((0,_.jsx)(z,{day:t,setOpening:s,currentTask:w,handleClick:y},e)),7!==T.length&&e!==g.length-1||(D.push((0,_.jsx)("tr",{children:T},t.date)),T=[])})),(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:P,children:(0,_.jsx)("table",{className:B,children:(0,_.jsx)("tbody",{children:D})})})})},q="choosed-month_choosedMonthWrapper__FfO9b",A=function(){var t=(0,a.v9)(c.i),e=(0,a.v9)(m.p),n=o(t),i=n.startMonth,s=n.endMonth,l=e.filter((function(t){var e=new Date(t.date.start);return(0,r.default)(e,{start:i,end:s})}));return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(g,{}),(0,_.jsx)("div",{className:q,children:(0,_.jsx)(J,{tasks:l,currentDate:t})})]})}},1710:function(t,e,n){n.d(e,{i:function(){return a}});var a=function(t){return t.date.currentDate}},4454:function(t,e,n){n.d(e,{p:function(){return a}});var a=function(t){return t.tasks.tasks}},2729:function(t,e,n){n.d(e,{qk:function(){return i},vh:function(){return r},yJ:function(){return a}});Math.pow(10,8);var a=6e4,r=36e5,i=1e3},4888:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var a=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,a.default)(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}},467:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var a=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,a.default)(t),n=e.getDay();return n}},4690:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var a=n(8347),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,a.default)(t),i=(0,a.default)(e);return n.getTime()===i.getTime()}},7262:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var a=n(8527),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,a.default)(t).getTime(),i=(0,a.default)(e.start).getTime(),s=(0,a.default)(e.end).getTime();if(!(i<=s))throw new RangeError("Invalid interval");return n>=i&&n<=s}},9831:function(t,e,n){n.r(e),n.d(e,{default:function(){return s}});var a=n(2729),r=n(4522),i=n(9297);function s(t,e){var n;(0,r.Z)(1,arguments);var a=(0,i.Z)(null!==(n=null===e||void 0===e?void 0:e.additionalDigits)&&void 0!==n?n:2);if(2!==a&&1!==a&&0!==a)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var s,l=c(t);if(l.date){var d=m(l.date,a);s=f(d.restDateString,d.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var u,o=s.getTime(),h=0;if(l.time&&(h=v(l.time),isNaN(h)))return new Date(NaN);if(!l.timezone){var _=new Date(o+h),x=new Date(0);return x.setFullYear(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()),x.setHours(_.getUTCHours(),_.getUTCMinutes(),_.getUTCSeconds(),_.getUTCMilliseconds()),x}return u=g(l.timezone),isNaN(u)?new Date(NaN):new Date(o+h+u)}var l={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},d=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,o=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c(t){var e,n={},a=t.split(l.dateTimeDelimiter);if(a.length>2)return n;if(/:/.test(a[0])?e=a[0]:(n.date=a[0],e=a[1],l.timeZoneDelimiter.test(n.date)&&(n.date=t.split(l.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length))),e){var r=l.timezone.exec(e);r?(n.time=e.replace(r[1],""),n.timezone=r[1]):n.time=e}return n}function m(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(n);if(!a)return{year:NaN,restDateString:""};var r=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:null===i?r:100*i,restDateString:t.slice((a[1]||a[2]).length)}}function f(t,e){if(null===e)return new Date(NaN);var n=t.match(d);if(!n)return new Date(NaN);var a=!!n[4],r=h(n[1]),i=h(n[2])-1,s=h(n[3]),l=h(n[4]),u=h(n[5])-1;if(a)return function(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}(0,l,u)?function(t,e,n){var a=new Date(0);a.setUTCFullYear(t,0,4);var r=a.getUTCDay()||7,i=7*(e-1)+n+1-r;return a.setUTCDate(a.getUTCDate()+i),a}(e,l,u):new Date(NaN);var o=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(x[e]||(p(t)?29:28))}(e,i,s)&&function(t,e){return e>=1&&e<=(p(t)?366:365)}(e,r)?(o.setUTCFullYear(e,i,Math.max(r,s)),o):new Date(NaN)}function h(t){return t?parseInt(t):1}function v(t){var e=t.match(u);if(!e)return NaN;var n=_(e[1]),r=_(e[2]),i=_(e[3]);return function(t,e,n){if(24===t)return 0===e&&0===n;return n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}(n,r,i)?n*a.vh+r*a.yJ+1e3*i:NaN}function _(t){return t&&parseFloat(t.replace(",","."))||0}function g(t){if("Z"===t)return 0;var e=t.match(o);if(!e)return 0;var n="+"===e[1]?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return function(t,e){return e>=0&&e<=59}(0,i)?n*(r*a.vh+i*a.yJ):NaN}var x=[31,null,31,30,31,30,31,31,30,31,30,31];function p(t){return t%400===0||t%4===0&&t%100!==0}},8347:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var a=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,a.default)(t);return e.setHours(0,0,0,0),e}},5719:function(t,e,n){n.r(e),n.d(e,{default:function(){return i}});var a=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,a.default)(t);return e.setDate(1),e.setHours(0,0,0,0),e}}}]);
//# sourceMappingURL=494.7424e3b5.chunk.js.map